# Primeiros Exercícios

Finalmente, estamos prontos para pôr R em operação. Vamos iniciar com alguns exercícios e terminar esta capitulo com a manipulação e análise exploratório de um dataset interessante. Seria um boa prática para você replicar estes exemplos no seu R.

## O Que São Dados?

Parece que esta deve ser uma pergunta simples. Mas, vamos esclarecer no contexto dos dados em R. No primeiro capitulo expliquei o conceito de designação e mostrei o simbolo `<-` que usamos invés de sinal de igualdade (`=`) para associar um nome com alguns valores. Esses valores podem ser numericos ou texto, podem ser até listas ou matrices. Mas, sempre usamos a convenção 

> <nome do objeto> **<-** <definição do objeto> 

onde a definição é os valores são o conteúdo do objeto.

## Exemplos de *Assignment*

```{r assign1}
x <- 5
x
```

Aqui a letra `x` vai ter o valor 5. `x` vai ter a definição de 5. Podemos colocar na tela simplesmente colocando o nome do objeto. Este objeto nós podemos também chamar uma *variável*.

```{r assign2}
x <- 3 + 2
x
```

Neste exemplo, `x` terá também o valor 5, mas esta vez ganha este valor através da operação de adição

```{r assign3}
x <- 1 == 0
x
```

Esta vez, demos a `x` o valor que é o resultado de um teste lógico. O resultado é também um valor lógico: 1 não igual a 0, então o resultado deve ser `FALSE`. 

```{r assign4}
x <- sqrt(675.3)
x
```

Também, nós podemos usar funções para definir o valor de `x`. Aqui usei o raiz quadrado. Mas, têm muitas outras funções que você pode utilizar. 

A definição de uma variável pode ser um pouco mais complicado ainda. Vamos fazer um cálculo usando nossos dados do primeiro capitulo. Aqui é o código (no formato levemente alterado):

```{r code_ex1}
set.seed(1)
dados <- runif(100, min = 0, max = 1000)
m <- sum(dados)/length(dados)
m
```

Aqui, temos três linhas que fazem operações e a quarta que relata o resultado. Vamos olhar em cada uma e ver o que faz.

`set.seed(1)`: set.seed() é um comando que fornece às funções que calculam valores aleatóricos a instrução de sempre iniciar o cálculo no mesmo posição. Pode aceitar qualquer número inteiro como argumento. Aqui usei `1`. Mas, podia ter usado `43` ou `2018`. Qualquer número que está usado vai produzir uma série de números aleatórios diferentes.

`dados <- runif(100, min = 0, max = 1000)`: dados é uma variável que vai receber 100 valores aleatórios entre 0 e 1000 (`min` e `max`). Estes valores são baseados na distribuição de números "uniforme", que quer dizer que todos os números entre os 2 limites têm uma chance igual de ser selecionados. O resultado `dados` vai ser um vetor com os 100 números.

`m <- sum(dados)/length(dados)`: para calcular `m`, nós vamos somar os 100 valores e dividir (`/`) o resultado pelo número de valores na variável (neste caso 100). Este é a mesma coisa que pedir a média de uma série de números, utilizando o cálculo que você vai lembrar de seu curso de estatística:

$$\mu = \frac{\sum_{i=1}^{n}x_{i}}{n}$$ 

Também, podemos usar a função `mean(dados)` para conseguir o mesmo resultado.

`m`: finalmente, indicando o nome da variável imprimirá o valor na tela.

## Questões de Estilo

Como você apresenta o código vai facilitar o seu entendimento do que você fez tanto quanto o entendimento de uma outra pessoa que precisa trabalhar com este código. Então, vale a pena seguir umas regras consistentes. Assim, tudo mundo (e R) vai entender o código que você escreveu. Vamos fazer um outro exemplo para mostrar este ponto.

```{r peso, echo = TRUE}
## 1ª Versão
peso <- 55  ## Pessoa pesa 55 kg.

## 2ª Versão
peso_kg <- 55 ## Mais claro

## Pode Converter à Libra
peso_lb <- peso_kg * 2.2
peso_lb

```

O primeiro ponto a ressaltar é que este código tem muitos comentários. Fazemos comentários em R utilizando o sinal `#` ("hashtag"). R não interpreta qualquer cárater depois do primeiro `#` numa linha de código. Este pode ocorrer numa linha sozinha como `## 1ª Versão` ou depois de um operação como na segunda linha (`peso <- 55 ## Pessoa pesa 55 kg.`).

A primeira versão do assignment não é muito claro. Se não tivesse o comentário sobre `55 kg`, como você saberia que estavamos falando de conversão entre kilos e libras. A segunda versão esclarece diretamente no nome da variável `peso_kg`. E a linha que faz a conversão também tem um bon nome que explica claramente o que é este valor.

Frequentemente, pessoas gostam de usar nomes muito breves, mas não muito claros com `x`, `i` ou `n24`. É muito melhor usar nomes que explicam o que contem a variável que de enfatizar brevidade.

Tem muitos outros aspetos de estilo que está sendo padronizado no mundo de programação de R. Uma guia para um estilo claro de programação foi desenvolvido pelo Hadley Wickham de RStudio e pode ser achado aqui: http://style.tidyverse.org/. O pacote `styler` que você carregou na instalação criou "Addins" no RStudio que pode acessar do itém na barra para cima. Esses opções permite que R em si coloca seu código no estilo correto seguindo as normas da guia de Wickham.

```{r styler, echo = FALSE, fig.align='center', fig.cap = "Styler Addins"}
knitr::include_graphics("~/Documents/Sustentare/Data_Analysis_with_R/dawR1/style_addin.png")
```

## Conjunto dos Dados Mais Complicado

Neste exercício, que estou adaptando do curriculo do grupo "Software Carpentry", [^4] trata de dados médicos sobre tratamentos para artrite e a inflamação que a doença causa. Para nossos fins de aprender R, podemos aprender 

- Como inserir dados nos objetos R
- Como manipular esses dados
- Gráficos básicos
- Resumos descritivos de dados
- Funções em R
- Loops

[^4]: Agradeço Software Carpentry para uso desses dados. (http://swcarpentry.github.io/)

Você trabalha num laboratório farmaceutico que está desenvolvendo um novo tratamento para artrite. Você precisa avaliar os resultados de uma teste deste tratamento para ver se cumpriu os objetivos que a empresa fez para ele. Você recebe o arquivo "inflammation-01.csv", um arquivo de Excel gravado no formato csv (*comma separated values*). Você precisa colocar este arquivo no seu *working directory* e carregar os dados na memoria onde R pode operar neles. 

### Passo 1 --- Definir o *Working Directory*


 

